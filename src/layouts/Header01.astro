---
import { Button } from "@/components/ui/button";
import { ModeToggle } from "@/components/custom/ModeToggle";
import AvatarComponent from "@/components/custom/AvatarComponent";
import { MenuItems, Astronav } from "astro-navbar";
import Dropdown from "@/components/dropdown.astro";
import LoginButtons from "@/components/custom/LoginButtons";
import HeaderClientScript from "@/components/custom/HeaderClientScript";
import HeaderMenu from "@/components/custom/HeaderMenu";
import MainNavigation from "@/components/custom/MainNavigation";

type MenuItem = {
  title: string;
  path?: string;
  items?: { title: string; path: string }[];
};

const menuitems: MenuItem[] = [
  { title: "Beranda", path: "/" },
  {
    title: "Properti",
    items: [
      { title: "Rumah", path: "/properti/rumah" },
      { title: "Apartemen", path: "/properti/apartemen" },
      { title: "Tanah", path: "/properti/tanah" },
      { title: "Ruko", path: "/properti/ruko" },
    ],
  },
  {
    title: "Tentang Kami",
    items: [
      { title: "Profil Perusahaan", path: "/tentang-kami/profil" },
      { title: "Tim Kami", path: "/tentang-kami/tim" },
      { title: "Karir", path: "/tentang-kami/karir" },
    ],
  },
  { title: "Kontak", path: "/kontak" },
];

import {
  NavigationMenu,
  NavigationMenuContent,
  NavigationMenuItem,
  NavigationMenuLink,
  NavigationMenuList,
  NavigationMenuTrigger,
  navigationMenuTriggerStyle,
} from "@/components/ui/navigation-menu";

import "rsuite/dist/rsuite-no-reset.min.css";
---

<header
  class="sticky top-0 z-40 w-full bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"
>
  <div class="container flex items-center h-16">
    <div class="mr-4">
      <a href="/" class="flex items-center space-x-2">
        <img src="/images/logo.svg" alt="Logo" class="w-6 h-6" />
        <span class="hidden font-bold sm:inline-block">Properti Kita</span>
      </a>
    </div>
    <div class="flex-1 hidden md:flex">
      <MainNavigation client:load menuitems={menuitems} />
    </div>
    <div class="flex items-center justify-end flex-1 space-x-4">
      <LoginButtons client:load />
      <ModeToggle client:load />
      <HeaderMenu client:load menuitems={menuitems as MenuItem[]} />
    </div>
  </div>
</header>

<!-- <HeaderClientScript client:load /> -->

<style is:global>
  @keyframes marquee {
    0% {
      transform: translateX(75%);
    }
    100% {
      transform: translateX(20%);
    }
  }

  @keyframes vertical-move {
    0% {
      transform: translateY(100%); /* Mulai dari bawah layar */
    }
    100% {
      transform: translateY(-100%); /* Berakhir di atas layar */
    }
  }

  .animate-marquee {
    animation: vertical-move 5s linear infinite; /* Gunakan animasi vertikal */
    display: inline-flex; /* Untuk menengahkan secara horizontal */
    align-items: center; /* Untuk menengahkan secara vertikal */
  }

  @media (max-width: 640px) {
    .animate-marquee {
      animation: vertical-move 15s linear infinite; /* Animasi yang sama untuk mobile */
    }
  }

  .animate-horizontal-move {
    animation: horizontal-move 10s linear infinite;
  }
</style>
